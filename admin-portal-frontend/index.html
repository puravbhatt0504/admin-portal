<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#2d3748">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Admin Portal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.bootstrap5.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/style.css">
</head>
<body id="theme-container">
    <div class="toast-container position-fixed bottom-0 end-0 p-3"></div>
    <!-- Mobile Header -->
    <div class="mobile-header d-lg-none">
        <div class="d-flex justify-content-between align-items-center p-3">
            <button class="btn btn-outline-secondary" id="mobile-menu-toggle">
                <i class="bi bi-list"></i>
            </button>
            <div class="logo-text text-dark fw-bold">Admin Portal</div>
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" role="switch" id="mobileDarkModeToggle">
            </div>
        </div>
    </div>

    <div class="d-flex">
        <nav class="sidebar p-3 d-flex flex-column" data-bs-theme="dark" id="sidebar">
            <div class="sidebar-header text-center py-3">
                <a href="#" class="d-block text-decoration-none">
                    <div class="logo-container d-flex flex-column align-items-center">
                        <img src="static/assets/logo.png" alt="Company Logo" style="height: 50px; width: auto;" class="logo-img mb-2">
                        <div class="logo-text text-white fw-bold" style="font-size: 1.1rem; letter-spacing: 0.5px;">Admin Portal</div>
                    </div>
                </a>
            </div>
            <hr>
            <ul class="nav nav-pills flex-column mb-auto" id="mainTab" role="tablist">
                 <li class="nav-item" role="presentation"><button class="nav-link active text-start" data-header-title="Dashboard" id="dashboard-tab" data-bs-toggle="tab" data-bs-target="#dashboard-tab-pane" type="button" role="tab"><i class="bi bi-grid-1x2-fill me-2"></i>Dashboard<span class="keyboard-shortcut">1</span></button></li>
                <li class="nav-item" role="presentation"><button class="nav-link text-start" data-header-title="Employee Management" id="employees-tab" data-bs-toggle="tab" data-bs-target="#employees-tab-pane" type="button" role="tab"><i class="bi bi-people-fill me-2"></i>Employees</button></li>
                <li class="nav-item" role="presentation"><button class="nav-link text-start" data-header-title="Attendance Log" id="attendance-tab" data-bs-toggle="tab" data-bs-target="#attendance-tab-pane" type="button" role="tab"><i class="bi bi-clock-history me-2"></i>Attendance</button></li>
                <li class="nav-item" role="presentation"><button class="nav-link text-start" data-header-title="Travel Expenses" id="travel-tab" data-bs-toggle="tab" data-bs-target="#travel-tab-pane" type="button" role="tab"><i class="bi bi-geo-alt-fill me-2"></i>Travel</button></li>
                <li class="nav-item" role="presentation"><button class="nav-link text-start" data-header-title="General Expenses" id="general-tab" data-bs-toggle="tab" data-bs-target="#general-tab-pane" type="button" role="tab"><i class="bi bi-cart-fill me-2"></i>General</button></li>
                <li class="nav-item" role="presentation"><button class="nav-link text-start" data-header-title="Employee Advances" id="advances-tab" data-bs-toggle="tab" data-bs-target="#advances-tab-pane" type="button" role="tab"><i class="bi bi-cash-stack me-2"></i>Advances</button></li>
                <li class="nav-item" role="presentation"><button class="nav-link text-start" data-header-title="Salary Slip Generation" id="salary-tab" data-bs-toggle="tab" data-bs-target="#salary-tab-pane" type="button" role="tab"><i class="bi bi-wallet-fill me-2"></i>Salary</button></li>
                <li class="nav-item" role="presentation"><button class="nav-link text-start" data-header-title="Generate Reports" id="reports-tab" data-bs-toggle="tab" data-bs-target="#reports-tab-pane" type="button" role="tab"><i class="bi bi-file-earmark-bar-graph-fill me-2"></i>Reports</button></li>
                <li class="nav-item" role="presentation"><button class="nav-link text-start" data-header-title="AI Insights" id="ai-insights-tab" data-bs-toggle="tab" data-bs-target="#ai-insights-tab-pane" type="button" role="tab"><i class="bi bi-robot me-2"></i>AI Insights</button></li>
                <li class="nav-item" role="presentation"><button class="nav-link text-start" data-header-title="Application Settings" id="settings-tab" data-bs-toggle="tab" data-bs-target="#settings-tab-pane" type="button" role="tab"><i class="bi bi-gear-fill me-2"></i>Settings</button></li>
            </ul>
            <hr>
            <div class="form-check form-switch ps-4"><input class="form-check-input" type="checkbox" role="switch" id="darkModeToggle"><label class="form-check-label" for="darkModeToggle">Dark Mode</label></div>
        </nav>

        <!-- Mobile Sidebar Overlay -->
        <div class="mobile-sidebar-overlay d-lg-none" id="mobile-sidebar-overlay"></div>

        <main class="main-content p-4 animated-fade-in">
            <!-- Breadcrumbs -->
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb" id="breadcrumb-nav">
                    <li class="breadcrumb-item"><a href="#" onclick="switchTab('dashboard-tab')">Dashboard</a></li>
                </ol>
            </nav>

            <!-- Global Search -->
            <div class="global-search">
                <i class="bi bi-search search-icon"></i>
                <input type="text" class="form-control search-input" id="global-search" placeholder="Search employees, expenses, attendance...">
                <div class="search-results" id="search-results" style="display: none;"></div>
            </div>

            <!-- Bulk Actions -->
            <div class="bulk-actions" id="bulk-actions">
                <div class="d-flex align-items-center justify-content-between">
                    <div class="d-flex align-items-center">
                        <input type="checkbox" class="bulk-checkbox me-3" id="select-all">
                        <span id="bulk-count">0 items selected</span>
                    </div>
                    <div class="d-flex gap-2">
                        <button class="btn btn-light btn-sm" id="bulk-export">
                            <i class="bi bi-download me-1"></i>Export
                        </button>
                        <button class="btn btn-light btn-sm" id="bulk-delete">
                            <i class="bi bi-trash me-1"></i>Delete
                        </button>
                        <button class="btn btn-light btn-sm" id="bulk-cancel">
                            <i class="bi bi-x"></i>
                        </button>
                    </div>
                </div>
            </div>

            <header class="pb-3 mb-4 border-bottom d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    <h1 class="display-6 mb-0" id="header-title">Dashboard</h1>
                    <div class="status-indicator ms-3">
                        <span class="status-dot status-present"></span>
                        <span class="status-text">Live</span>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="btn btn-outline-secondary btn-sm" id="refresh-btn" title="Refresh Data (Ctrl+R)">
                        <i class="bi bi-arrow-clockwise"></i>
                        <span class="keyboard-shortcut">Ctrl+R</span>
                    </button>
                    <button class="btn btn-outline-secondary btn-sm ms-2" id="fullscreen-btn" title="Toggle Fullscreen (F11)">
                        <i class="bi bi-arrows-fullscreen"></i>
                        <span class="keyboard-shortcut">F11</span>
                    </button>
                </div>
            </header>
            <div class="tab-content" id="mainTabContent">
                <div class="tab-pane fade show active" id="dashboard-tab-pane" role="tabpanel">
                    <div class="row g-4">
                        <div class="col-md-4">
                            <div class="stat-card-live present-card h-100">
                                <div class="stat-icon">
                                    <i class="bi bi-person-check-fill"></i>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-number" id="stat-present-count">0</span>
                                    <span class="stat-label">Present</span>
                                </div>
                                <div class="stat-trend">
                                    <i class="bi bi-arrow-up text-success"></i>
                                    <span class="trend-text">+12%</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="stat-card-live late-card h-100">
                                <div class="stat-icon">
                                    <i class="bi bi-exclamation-triangle-fill"></i>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-number" id="stat-late-count">0</span>
                                    <span class="stat-label">Late</span>
                                </div>
                                <div class="stat-trend">
                                    <i class="bi bi-arrow-down text-success"></i>
                                    <span class="trend-text">-5%</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="stat-card-live absent-card h-100">
                                <div class="stat-icon">
                                    <i class="bi bi-person-x-fill"></i>
                                </div>
                                <div class="stat-info">
                                    <span class="stat-number" id="stat-absent-count">0</span>
                                    <span class="stat-label">Absent</span>
                                </div>
                                <div class="stat-trend">
                                    <i class="bi bi-arrow-right text-muted"></i>
                                    <span class="trend-text">0%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row g-4 mt-2">
                        <div class="col-xl-7">
                            <div class="card h-100">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-graph-up me-2"></i>Today's Attendance Status
                                        </h5>
                                        <span class="text-muted" id="last-updated-time"></span>
                                    </div>
                                    <div id="today-status-container"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-5">
                            <div class="card mb-4">
                                <div class="card-body">
                                    <h5 class="card-title">
                                        <i class="bi bi-people me-2"></i>Who's Out Today?
                                    </h5>
                                    <div id="whos-out-container"></div>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">
                                        <i class="bi bi-pie-chart me-2"></i>Expense Breakdown
                                    </h5>
                                    <canvas id="expenseChart" style="max-height: 250px;"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="employees-tab-pane" role="tabpanel"><div class="card"><div class="card-body"><div class="row"><div class="col-lg-6 border-end-lg"><h5 class="card-title mb-3">Add New Employee</h5><div class="input-group"><span class="input-group-text"><i class="bi bi-person-plus-fill"></i></span><input type="text" class="form-control" id="new-employee-name" placeholder="Enter full name"><button class="btn btn-gradient-primary btn-pulse" type="button" id="add-employee-btn"><i class="bi bi-plus-lg me-2"></i>Add Employee</button></div></div><div class="col-lg-6 mt-4 mt-lg-0"><h5 class="card-title mb-3">Remove Employee</h5><div class="input-group"><span class="input-group-text"><i class="bi bi-person-x-fill"></i></span><select class="form-select" id="remove-employee-select"><option selected>Loading...</option></select><button class="btn btn-danger" type="button" id="remove-employee-btn"><i class="bi bi-trash-fill me-2"></i>Remove</button></div></div></div></div></div></div>
                <div class="tab-pane fade" id="attendance-tab-pane" role="tabpanel"><div class="card mb-4"><div class="card-body"><h5 class="card-title mb-4">Log & View Attendance</h5><div class="row g-3"><div class="col-md-6"><label for="att-employee-select" class="form-label">Employee</label><select id="att-employee-select" class="form-select"></select></div><div class="col-md-6"><label for="att-date" class="form-label">Date</label><input type="date" id="att-date" class="form-control"></div><div class="col-md-6"><label for="att-checkin1" class="form-label">Shift 1 In</label><input type="text" id="att-checkin1" class="form-control" placeholder="e.g., 9:15 AM"></div><div class="col-md-6"><label for="att-checkout1" class="form-label">Shift 1 Out</label><input type="text" id="att-checkout1" class="form-control" placeholder="e.g., 6:00 PM"></div><div class="col-md-6"><label for="att-checkin2" class="form-label">Shift 2 In</label><input type="text" id="att-checkin2" class="form-control" placeholder="Optional"></div><div class="col-md-6"><label for="att-checkout2" class="form-label">Shift 2 Out</label><input type="text" id="att-checkout2" class="form-control" placeholder="Optional"></div></div><div class="mt-4 d-flex justify-content-between"><button id="att-update-btn" class="btn btn-gradient-primary btn-pulse"><i class="bi bi-check-circle-fill me-2"></i>Add / Update</button><div><button id="att-view-btn" class="btn btn-outline-secondary"><i class="bi bi-table me-2"></i>View Day</button><button id="att-delete-btn" class="btn btn-outline-danger ms-2"><i class="bi bi-trash2-fill me-2"></i>Delete Entry</button></div></div></div></div><div class="card"><div class="card-body"><div id="attendance-table-container"></div></div></div></div>
                <div class="tab-pane fade" id="travel-tab-pane" role="tabpanel"><div class="card mb-4"><div class="card-body"><h5 class="card-title">Log Travel Expenses</h5><div class="row g-3"><div class="col-md-6"><label for="travel-employee-select" class="form-label">Employee</label><select id="travel-employee-select" class="form-select"></select></div><div class="col-md-6"><label for="travel-date" class="form-label">Date</label><input type="date" id="travel-date" class="form-control"></div><div class="col-md-4"><label for="travel-start-reading" class="form-label">Start (km)</label><input type="number" id="travel-start-reading" class="form-control"></div><div class="col-md-4"><label for="travel-end-reading" class="form-label">End (km)</label><input type="number" id="travel-end-reading" class="form-control"></div><div class="col-md-4"><label for="travel-rate" class="form-label">Rate/km</label><input type="text" id="travel-rate" class="form-control" disabled readonly></div></div><div class="mt-3 d-flex justify-content-between"><button id="travel-log-btn" class="btn btn-gradient-primary btn-pulse"><i class="bi bi-save-fill me-2"></i>Log Travel</button><div><button id="travel-load-btn" class="btn btn-outline-secondary"><i class="bi bi-upload me-2"></i>Load Entry</button><button id="travel-view-btn" class="btn btn-outline-secondary ms-2"><i class="bi bi-table me-2"></i>View Day</button><button id="travel-delete-last-btn" class="btn btn-outline-danger ms-2"><i class="bi bi-trash2-fill me-2"></i>Delete Last</button></div></div></div></div><div class="card"><div class="card-body"><div id="travel-table-container"></div></div></div></div>
                <div class="tab-pane fade" id="general-tab-pane" role="tabpanel"><div class="card mb-4"><div class="card-body"><h5 class="card-title">Log General Expenses</h5><div class="row g-3 mb-3"><div class="col-md-6"><label for="gen-employee-select" class="form-label">Employee</label><select id="gen-employee-select" class="form-select"></select></div><div class="col-md-6"><label for="gen-date" class="form-label">Date</label><input type="date" id="gen-date" class="form-control"></div></div><div id="general-items-container"></div><button id="gen-add-item-btn" class="btn btn-sm btn-outline-success mt-2"><i class="bi bi-plus-circle"></i> Add Item</button><div class="mt-3 d-flex justify-content-between"><button id="gen-save-btn" class="btn btn-gradient-primary btn-pulse"><i class="bi bi-save-fill me-2"></i>Save Expenses</button><div><button id="gen-load-btn" class="btn btn-outline-secondary"><i class="bi bi-upload me-2"></i>Load Day</button><button id="gen-view-btn" class="btn btn-outline-secondary ms-2"><i class="bi bi-table me-2"></i>View Day</button><button id="gen-delete-last-btn" class="btn btn-outline-danger ms-2"><i class="bi bi-trash2-fill me-2"></i>Delete Last Day</button></div></div></div></div><div class="card"><div class="card-body"><div id="general-table-container"></div></div></div></div>
                <div class="tab-pane fade" id="advances-tab-pane" role="tabpanel"><div class="card mb-4"><div class="card-body"><h5 class="card-title">Log Employee Advance</h5><div class="row g-3"><div class="col-md-6"><label for="adv-employee-select" class="form-label">Employee</label><select id="adv-employee-select" class="form-select"></select></div><div class="col-md-6"><label for="adv-date" class="form-label">Date</label><input type="date" id="adv-date" class="form-control"></div><div class="col-md-6"><label for="adv-amount" class="form-label">Amount</label><div class="input-group"><span class="input-group-text">₹</span><input type="number" id="adv-amount" class="form-control"></div></div><div class="col-md-6"><label for="adv-notes" class="form-label">Notes (Optional)</label><input type="text" id="adv-notes" class="form-control"></div></div><div class="mt-3 d-flex justify-content-between"><button id="adv-log-btn" class="btn btn-gradient-primary btn-pulse"><i class="bi bi-plus-circle-fill me-2"></i>Log Advance</button><button id="adv-delete-last-btn" class="btn btn-outline-danger"><i class="bi bi-trash2-fill me-2"></i>Delete Last</button></div><hr><h5 class="card-title mt-4">View Advances</h5><div class="row g-3 align-items-end"><div class="col-md-4"><label for="adv-view-day-picker" class="form-label">View by Day</label><input type="date" id="adv-view-day-picker" class="form-control"></div><div class="col-md-2"><button id="adv-view-day-btn" class="btn btn-outline-secondary w-100"><i class="bi bi-search"></i> View</button></div><div class="col-md-4"><label for="adv-view-month-picker" class="form-label">View by Month</label><input type="month" id="adv-view-month-picker" class="form-control"></div><div class="col-md-2"><button id="adv-view-month-btn" class="btn btn-outline-secondary w-100"><i class="bi bi-search"></i> View</button></div></div></div></div><div class="card"><div class="card-body"><div id="advances-table-container"></div></div></div></div>
                <div class="tab-pane fade" id="salary-tab-pane" role="tabpanel"><div class="card"><div class="card-body"><h5 class="card-title">Generate Salary Slip</h5><div class="row g-3"><div class="col-12"><label class="form-label">Employee</label><select id="salary-employee-select" class="form-select"></select></div><div class="col-12"><label class="form-label">Salary Period</label><div><div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="salaryPeriod" id="salary-period-month" value="month" checked><label class="form-check-label" for="salary-period-month">Full Month</label></div><div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="salaryPeriod" id="salary-period-custom" value="custom"><label class="form-check-label" for="salary-period-custom">Custom Range</label></div></div></div><div class="col-md-6" id="salary-month-container"><label class="form-label">Select Month</label><input type="month" id="salary-month-picker" class="form-control"></div><div class="col-md-6" id="salary-custom-container" style="display: none;"><label class="form-label">Select Range</label><div class="input-group"><input type="date" id="salary-start-date" class="form-control"><input type="date" id="salary-end-date" class="form-control"></div></div></div><div class="mt-3"><button id="salary-fetch-btn" class="btn btn-outline-secondary"><i class="bi bi-arrow-down-circle-fill me-2"></i>Fetch Data</button></div><hr><h5 class="card-title mt-4">Manual Earnings</h5><div class="row g-3"><div class="col-md-6 col-lg-3"><label for="salary-basic" class="form-label">Basic Salary</label><div class="input-group"><span class="input-group-text">₹</span><input type="number" id="salary-basic" class="form-control"></div></div><div class="col-md-6 col-lg-3"><label for="salary-hra" class="form-label">HRA</label><div class="input-group"><span class="input-group-text">₹</span><input type="number" id="salary-hra" class="form-control"></div></div><div class="col-md-6 col-lg-3"><label for="salary-conveyance" class="form-label">Conveyance</label><div class="input-group"><span class="input-group-text">₹</span><input type="number" id="salary-conveyance" class="form-control"></div></div><div class="col-md-6 col-lg-3"><label for="salary-allowance" class="form-label">Other Allowance</label><div class="input-group"><span class="input-group-text">₹</span><input type="number" id="salary-allowance" class="form-control"></div></div></div><div class="mt-4"><button id="salary-preview-btn" class="btn btn-info"><i class="bi bi-eye-fill me-2"></i>Preview Slip</button><button id="salary-export-btn" class="btn btn-success ms-2"><i class="bi bi-file-earmark-pdf-fill me-2"></i>Export PDF</button></div></div></div></div>
                <div class="tab-pane fade" id="reports-tab-pane" role="tabpanel"><div class="card"><div class="card-body"><h5 class="card-title">Generate PDF Reports</h5><div class="mb-4"><h6 class="card-subtitle mb-2 text-muted">Quick Reports</h6><div class="btn-group" role="group"><button type="button" class="btn btn-outline-secondary" id="report-preset-today">Today</button><button type="button" class="btn btn-outline-secondary" id="report-preset-week">This Week</button><button type="button" class="btn btn-outline-secondary" id="report-preset-month">This Month</button></div></div><hr><h6 class="card-subtitle mb-2 text-muted">Custom Date Range Report</h6><div class="row g-3"><div class="col-md-4"><label class="form-label">Report Type</label><select id="report-type-select" class="form-select"><option>Attendance</option><option>Travel Expenses</option><option>General Expenses</option></select></div><div class="col-md-4"><label class="form-label">Start Date</label><input type="date" id="report-start-date" class="form-control"></div><div class="col-md-4"><label class="form-label">End Date</label><input type="date" id="report-end-date" class="form-control"></div></div><div class="mt-3 d-flex gap-2"><button id="report-generate-btn" class="btn btn-gradient-primary btn-pulse"><i class="bi bi-file-earmark-pdf me-2"></i>Generate PDF Report</button></div></div></div></div>
                <div class="tab-pane fade" id="ai-insights-tab-pane" role="tabpanel"><ul class="nav nav-tabs" id="aiTabs" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link active" id="anomaly-tab" data-bs-toggle="tab" data-bs-target="#anomaly-tab-pane" type="button" role="tab">Expense Anomaly Detection</button></li><li class="nav-item" role="presentation"><button class="nav-link" id="attrition-tab" data-bs-toggle="tab" data-bs-target="#attrition-tab-pane" type="button" role="tab">Predictive Attrition Risk</button></li></ul><div class="tab-content pt-3"><div class="tab-pane fade show active" id="anomaly-tab-pane" role="tabpanel"><div class="card"><div class="card-body"><h5 class="card-title">Scan for Anomalous Expenses</h5><p class="card-text">Use the AI model to scan recent expense reports and flag entries that are statistically unusual compared to employee or company averages.</p><button class="btn btn-gradient-primary btn-pulse" id="scan-expenses-btn"><i class="bi bi-search me-2"></i>Scan Recent Expenses</button><div class="mt-4" id="anomaly-results-container"></div></div></div></div><div class="tab-pane fade" id="attrition-tab-pane" role="tabpanel"><div class="card"><div class="card-body"><h5 class="card-title">Analyze Employee Attrition Risk</h5><p class="card-text">The predictive model analyzes attendance patterns and other factors to identify employees who may be at risk of leaving.</p><button class="btn btn-gradient-primary btn-pulse" id="analyze-attrition-btn"><i class="bi bi-graph-up-arrow me-2"></i>Analyze Attrition Risk</button><div class="mt-4" id="attrition-results-container"></div></div></div></div></div></div>
                <div class="tab-pane fade" id="settings-tab-pane" role="tabpanel"><div class="card mb-4"><div class="card-body"><h5 class="card-title">Application Settings</h5><div class="row"><div class="col-md-6"><label for="setting-rate-km" class="form-label">Travel Rate per Kilometer (₹)</label><div class="input-group"><span class="input-group-text">₹</span><input type="number" step="0.1" id="setting-rate-km" class="form-control"></div><div class="mt-3"><button id="setting-save-btn" class="btn btn-gradient-primary btn-pulse"><i class="bi bi-floppy-fill me-2"></i>Save Settings</button></div></div></div></div></div><div class="card border-danger"><div class="card-header bg-danger text-white"><i class="bi bi-exclamation-triangle-fill me-2"></i>Danger Zone</div><div class="card-body"><p class="card-text">These actions are destructive and cannot be undone.</p><div class="row g-3 align-items-end"><div class="col-md-6"><label for="danger-date-picker" class="form-label">Date to Delete</label><input type="date" id="danger-date-picker" class="form-control"></div><div class="col-md-6"><button id="danger-delete-all-btn" class="btn btn-danger w-100"><i class="bi bi-trash3-fill me-2"></i>Delete All Attendance on Date</button></div></div></div></div></div>
            </div>
        </main>
    </div>
    <div class="modal fade" id="confirmationModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="modal-title">Confirm Action</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body" id="modal-body">Are you sure?</div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button><button type="button" class="btn btn-danger" id="modal-confirm-btn">Confirm</button></div></div></div></div>

    <!-- Floating UI Elements -->
    <!-- Auto-save Indicator -->
    <div class="auto-save-indicator" id="auto-save-indicator">
        <i class="bi bi-check-circle me-1"></i>
        <span>Auto-saved</span>
    </div>

    <!-- Action History (Undo/Redo) -->
    <div class="action-history">
        <button class="history-btn" id="undo-btn" title="Undo (Ctrl+Z)" disabled>
            <i class="bi bi-arrow-left"></i>
        </button>
        <button class="history-btn" id="redo-btn" title="Redo (Ctrl+Y)" disabled>
            <i class="bi bi-arrow-right"></i>
        </button>
    </div>

    <!-- Quick Access Menu -->
    <div class="quick-access">
        <button class="quick-access-btn" id="quick-dashboard" title="Dashboard">
            <i class="bi bi-house"></i>
            <div class="tooltip">Dashboard</div>
        </button>
        <button class="quick-access-btn" id="quick-employees" title="Employees">
            <i class="bi bi-people"></i>
            <div class="tooltip">Employees</div>
        </button>
        <button class="quick-access-btn" id="quick-attendance" title="Attendance">
            <i class="bi bi-clock-history"></i>
            <div class="tooltip">Attendance</div>
        </button>
        <button class="quick-access-btn" id="quick-reports" title="Reports">
            <i class="bi bi-file-earmark-bar-graph"></i>
            <div class="tooltip">Reports</div>
        </button>
        <button class="quick-access-btn" id="quick-settings" title="Settings">
            <i class="bi bi-gear"></i>
            <div class="tooltip">Settings</div>
        </button>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.datatables.net/2.0.8/js/dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/2.0.8/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="static/supabase-config.js"></script>
    <script src="static/script.js?v=3.0.5&t=1735689600"></script>
</body>
</html>

